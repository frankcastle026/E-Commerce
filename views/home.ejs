<%- include('partials/header.ejs') %>
<style>
  .heart-checkbox label {
    /* padding: 6px; */
    border-radius: 50%;
    background-color: rgba(255, 255, 255, 0.7); 
  }

  .nav-link:hover {
    color: #3be855 !important;
  }
</style>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

<nav class="navbar navbar-expand-lg " style="background-color: #000000;">
    <div class="container-fluid">
      <a class="navbar-brand" href="#" style="color: #C2FFC7;">Navbar</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavDropdown">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="#" style="color: #C2FFC7;">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#" style="color: #C2FFC7;">Features</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#" style="color: #C2FFC7;">Pricing</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#products-section" style="color: #C2FFC7;">Products</a>
          </li>
        </ul>
        <div class="ms-auto">
        <form class="d-flex" role="search">
          <button class="btn btn-outline-danger" type="button" style="margin-right: 10px;" onclick="window.location.href='/toWishList?customer_id=<%= encodeURIComponent(customer_id) %>'">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart" viewBox="0 0 16 16">
              <path d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143q.09.083.176.171a3 3 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15"/>
            </svg>
          </button>
          <button class="btn btn-outline-primary" type="button" onclick="window.location.href='/cart?customer_id=<%= encodeURIComponent(customer_id) %>'">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cart" viewBox="0 0 16 16">
              <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5M3.102 4l1.313 7h8.17l1.313-7zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4m7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2m7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2"/>
            </svg>
          </button>
          
        </form>
      </div>
      </div>
    </div>
  </nav>

  <div id="carouselExample" class="carousel slide">
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR03k6QqepU5xsXwSr1AxblVpSAb7kSEr3NQw&s" class="d-block w-100" alt="..." style="border: 1px solid #537FE7;">
      </div>
      <div class="carousel-item">
        <img src="https://encrypted-tbn3.gstatic.com/shopping?q=tbn:ANd9GcQiMQBQuc8ADgYjTIZ9Gtzq9xltSaH5n3Y1QmNdU9rRi6MyyYiyyz9dMZ_ulK2-fnGCGVTfXSwzr-R9CXMH9hWIJG8kjuJlImv0ia45OSykpPKGDb1bm52EnQ" class="d-block w-100" alt="..." style="border: 1px solid #537FE7;">
      </div>
      <div class="carousel-item">
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQtYwtyyp9r1QYg33AfugI8CErLJ3FFeT5v2Q&s" class="d-block w-100" alt="..." style="border: 1px solid #537FE7;">
      </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true" style="filter: invert(90%);"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true" style="filter: invert(90%);"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>

  
  
  <div id="products-section" class="row row-cols-1 row-cols-md-4 g-4">
    <% for(let item of Products){ %>
    <div class="col">
      <div class="card" style="background-color: #181823; color: #E9F8F9;">

        <div class="card-img-container position-relative">
          <img src="<%= item.imageurl %>" class="card-img-top" alt="..." style="height: 200px; width: 100%; object-fit: cover; border-radius: 8px;">
          <div class="heart-checkbox position-absolute top-0 end-0 p-2">
            <input type="checkbox" class="btn-check" id="btncheck<%= item.id %>" name="wishList" value="wishList" autocomplete="off" onclick="window.location.href='/wishList?item_id=<%= encodeURIComponent(item.id) %>&customer_id=<%= encodeURIComponent(customer_id) %>&checked=' + this.checked" <% if (wishlistItems.includes(item.id)) { %> checked <% } %>>
            <label class="btn btn-outline-danger" for="btncheck<%= item.id %>">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314"/>
              </svg>
            </label>


            <script>
              function toggleWishlist(itemId, isChecked) {
    fetch(`/wishList?item_id=${itemId}&customer_id=${customerId}&checked=${isChecked}`)
        .then(response => response.json())
        .then(data => {
            console.log(data.message); 
        })
        .catch(error => console.error("Error:", error));
}
            </script>

            
            <!-- <button type="button" class="btn btn-outline-danger" id="btncheck<%= item.id %>" onclick="toggleCheck(this)">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314"/>
              </svg>
            </button> -->
            
          </div>
        </div>


        <div class="card-body">
          <h3 class="card-title" style="color: #C0EEF2;"><%= item.product_name %></h3>
          <p class="card-text"> â‚¹<%= item.price %></p>
        
        <button class="btn btn-light btn-sm" type="button" style="background-color: #537FE7; color: #E9F8F9; border: none;" onclick="window.location.href='/addToCart?product_name=<%= encodeURIComponent(item.product_name) %>&price=<%= encodeURIComponent(item.price) %>&item_id=<%= encodeURIComponent(item.id) %>&customer_id=<%= encodeURIComponent(customer_id) %>'">Add to Cart</button>
        <button class="btn btn-dark btn-sm" type="submit" style="background-color: #C0EEF2; color: #181823; border: none;" onclick="window.location.href='/checkout?product_name=<%= encodeURIComponent(item.product_name) %>&price=<%= encodeURIComponent(item.price) %>&item_id=<%= encodeURIComponent(item.id) %>&customer_id=<%= encodeURIComponent(customer_id) %>'">Buy Now</button>
      </div>
    </div>
    </div>
    <% } %>
  </div>


    
    <!-- create table products (id serial primary key, product_name text not null, imageURL text ,price integer not null); -->
    <!-- <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart" viewBox="0 0 16 16">
      <path d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143q.09.083.176.171a3 3 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15"/>
    </svg> -->

<%- include('partials/footer.ejs') %>